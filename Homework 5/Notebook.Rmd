Leyendo archivos y creando variables con los datos de cada archivo
```{r}
library(readr)
questions <- read_csv("questions.csv", show_col_types = FALSE)
answers <- read_csv("answers.csv", show_col_types = FALSE)
tags <- read_csv("tags.csv", show_col_types = FALSE)
question_tags <- read_csv("question_tags.csv", show_col_types = FALSE)
```
questions: id, creation_date, score
answers: id, creation_date, question_id, score
tags: id, tag_name
question_tags: question_id, tag_id

1. Usando left join
1.1. Relacionando questions y question tags
1.2. Agregando tags
1.3. Reemplazando para cambiar los NA en tag_name a "only-r" (Agregando librerÃ­a tidyr)
1.4. Almacenando en question_with_tags
```{r}
library(dplyr)
library(tidyr)
question_with_tags <- questions %>%
  left_join(question_tags, by=c("id"="question_id")) %>%
  left_join(tags, by=c("tag_id"="id")) %>%
  mutate(tag_name = replace_na(tag_name, "only-r") )
```

2.1. Utilizando question_with_tags, agrupando para variable tag_name
2.2. Promediando punteo de cada pregunta y asignando a mean_score
2.3. Ordenando mean_score en forma descendente
```{r}
question_with_tags %>%
  group_by(tag_name) %>%
  summarize(mean_score = mean(score)) %>%
  arrange(desc(mean_score))
```

3.1. Inner join para combinar questions y answers, aplicando sufijos
3.2. Agregando columna gap, que es la resta de creation_date_answer y creation_date_question
```{r}
creation_date_question <- questions %>%
  inner_join(answers, by=c("id"="question_id"), suffix=c("_question","_answer")) %>%
  mutate(gap = creation_date_answer - creation_date_question)
```

4.1. Contando y ordenando la columna question_id en tabla answers, almacenando el resultado en answer_counts
```{r}
answer_counts <- answers %>%
  count(question_id) %>%
  arrange(desc(n))
```
4.2. Relacionando tabla questions con answer_counts (left_join)
4.3. Reemplazando los valores NA en columna n con 0
4.5. Almacenando el resultado en question_answer_counts
```{r}
question_answer_counts <- questions %>%
  left_join(answer_counts, by=c("id"="question_id")) %>%
  mutate(n = replace_na(n, 0) )
```

5.1. Combinando question_tags con question_answer_counts (inner_join)
5.2. Combinando tags (inner_join)
```{r}
question_tags %>%
  inner_join(question_answer_counts, by=c("question_id"="id")) %>%
  inner_join(tags, by=c("tag_id"="id"))
```